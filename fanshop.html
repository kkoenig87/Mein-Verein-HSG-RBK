<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HSG RBK Fanshop</title>
  <style>
    body { font-family:sans-serif; margin:0; padding:0; background:#fff; color:#000; }
    header { background:#ff00a0; color:#fff; padding:1rem; text-align:center; }

    section { padding:1rem; }

    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:1.5rem; }

    .product { border:1px solid #ccc; border-radius:8px; padding:1rem; background:#fafafa; }
    .product h3 { margin-top:0.5rem; }

    /* --- Carousel --- */
    .carousel { position:relative; overflow:hidden; }
    .carousel-track { display:flex; transition:transform 0.3s ease; }
    .carousel-slide { flex:0 0 100%; }
    .carousel-slide img { width:100%; display:block; border-radius:6px; }
    .carousel-btn { 
      position:absolute; top:50%; transform:translateY(-50%); 
      z-index:5; background:rgba(0,0,0,0.4); color:#fff; 
      border:none; cursor:pointer; padding:0.5rem 0.8rem; border-radius:50%;
    }
    .carousel-btn.left { left:5px; }
    .carousel-btn.right { right:5px; }

    /* Warenkorb */
    #cart { border-top:2px solid #ff00a0; margin-top:2rem; padding-top:1rem; }
    #cart ul { list-style:none; padding:0; }
    #cart li { margin-bottom:0.5rem; }

    input, select { margin-top:0.3rem; margin-bottom:0.7rem; padding:0.4rem; width:100%; max-width:300px; }
    button { background:#ff00a0; color:#fff; border:none; padding:0.5rem 1rem; cursor:pointer; border-radius:4px; }
    button:hover { background:#d10085; }
  </style>
</head>
<body>
  <header>
    <h1>HSG Rü/Bau/Kö Fanshop</h1>
  </header>

  <section>
    <h2>Unsere Fanartikel</h2>
    <div class="products">

      <!-- Fantrikot -->
      <div class="product">
        <div class="carousel" data-carousel>
          <div class="carousel-track">
            <div class="carousel-slide"><img src="img/Fantrikot1.png" alt="Fantrikot Vorderseite"></div>
            <div class="carousel-slide"><img src="img/Fantrikot2.png" alt="Fantrikot Rückseite"></div>
          </div>
          <button class="carousel-btn left">◀</button>
          <button class="carousel-btn right">▶</button>
        </div>
        <h3>HSG Fantrikot</h3>
        <p>Original HSG Fantrikot in Vereinsfarben.</p>
        <p><strong>24,90 €</strong></p>
        <select id="size-trikot">
          <option value="S">Größe S</option>
          <option value="M">Größe M</option>
          <option value="L">Größe L</option>
          <option value="XL">Größe XL</option>
        </select>
        <button onclick="addToCart('HSG Fantrikot', 24.90, document.getElementById('size-trikot').value)">In den Warenkorb</button>
      </div>

      <!-- Fanshirt -->
      <div class="product">
        <div class="carousel" data-carousel>
          <div class="carousel-track">
            <div class="carousel-slide"><img src="img/Fanshirt1.png" alt="Fanshirt Vorderseite"></div>
            <div class="carousel-slide"><img src="img/Fanshirt2.png" alt="Fanshirt Rückseite"></div>
          </div>
          <button class="carousel-btn left">◀</button>
          <button class="carousel-btn right">▶</button>
        </div>
        <h3>HSG Fanshirt</h3>
        <p>Klassisches Shirt mit Vereinslogo.</p>
        <p><strong>15,90 €</strong></p>
        <select id="size-shirt">
          <option value="S">Größe S</option>
          <option value="M">Größe M</option>
          <option value="L">Größe L</option>
          <option value="XL">Größe XL</option>
        </select>
        <button onclick="addToCart('HSG Fanshirt', 15.90, document.getElementById('size-shirt').value)">In den Warenkorb</button>
      </div>

      <!-- Sweater -->
      <div class="product">
        <div class="carousel" data-carousel>
          <div class="carousel-track">
            <div class="carousel-slide"><img src="img/Sweater1.png" alt="Sweater Vorderseite"></div>
            <div class="carousel-slide"><img src="img/Sweater2.png" alt="Sweater Rückseite"></div>
          </div>
          <button class="carousel-btn left">◀</button>
          <button class="carousel-btn right">▶</button>
        </div>
        <h3>HSG Sweater</h3>
        <p>Klassischer Sweater mit Vereinslogo.</p>
        <p><strong>35,90 €</strong></p>
        <select id="size-sweater">
          <option value="S">Größe S</option>
          <option value="M">Größe M</option>
          <option value="L">Größe L</option>
          <option value="XL">Größe XL</option>
        </select>
        <button onclick="addToCart('HSG Sweater', 35.90, document.getElementById('size-sweater').value)">In den Warenkorb</button>
      </div>

      <!-- Gürteltasche -->
      <div class="product">
        <img src="img/Guerteltasche.png" alt="Kempa Gürteltasche">
        <h3>Kempa Gürteltasche</h3>
        <p>Praktische Bauchtasche im HSG-Style.</p>
        <p><strong>19,90 €</strong></p>
        <button onclick="addToCart('Kempa Gürteltasche', 19.90)">In den Warenkorb</button>
      </div>
    </div>
  </section>

  <section id="cart">
    <h2>Warenkorb</h2>
    <ul id="cart-items"></ul>
    <p>Zwischensumme: <span id="subtotal">0,00 €</span></p>
    <p>Versand: <span id="shipping">0,00 €</span></p>
    <p>Rabatt: <span id="discount">0,00 €</span></p>
    <p><strong>Gesamt: <span id="total">0,00 €</span></strong></p>

    <h3>Kundendaten</h3>
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="address" placeholder="Adresse">
    <input type="text" id="phone" placeholder="Telefonnummer">
    <input type="email" id="email" placeholder="E-Mail">

    <h3>Versandart</h3>
    <select id="shipping-option" onchange="updateCart()">
      <option value="0">Abholung (0,00 €)</option>
      <option value="7.90">DHL (7,90 €)</option>
      <option value="6.50">Hermes (6,50 €)</option>
      <option value="12.90">Express (12,90 €)</option>
    </select>

    <h3>Rabattcode</h3>
    <input type="text" id="discount-code" placeholder="Code eingeben">
    <button onclick="applyDiscount()">Einlösen</button>

    <br><br>
    <button onclick="checkout()">Bestellung abschicken</button>
  </section>

  <script>
    let cart = [];
    let discountValue = 0;

    function addToCart(product, price, size="") {
      cart.push({product, price, size});
      updateCart();
    }

    function updateCart() {
      const cartItems = document.getElementById("cart-items");
      cartItems.innerHTML = "";
      let subtotal = 0;

      cart.forEach(item=>{
        subtotal += item.price;
        cartItems.innerHTML += `<li>${item.product} ${item.size? "(" + item.size + ")" : ""} - ${item.price.toFixed(2).replace(".",",")} €</li>`;
      });

      const shippingCost = parseFloat(document.getElementById("shipping-option").value) || 0;
      document.getElementById("subtotal").textContent = subtotal.toFixed(2).replace(".",",") + " €";
      document.getElementById("shipping").textContent = shippingCost.toFixed(2).replace(".",",") + " €";
      document.getElementById("discount").textContent = discountValue.toFixed(2).replace(".",",") + " €";

      const total = subtotal + shippingCost - discountValue;
      document.getElementById("total").textContent = total.toFixed(2).replace(".",",") + " €";
    }

    function applyDiscount() {
      const code = document.getElementById("discount-code").value.trim();
      if(code === "HSG10") { discountValue = 10.0; }
      else if(code === "FANS20") { discountValue = 20.0; }
      else { discountValue = 0; }
      updateCart();
    }

    function checkout() {
      alert("Bestellung wird vorbereitet und per Mail versendet!");
    }

    // --- Init Carousels ---
    function initCarousels(){
      document.querySelectorAll('[data-carousel]').forEach(carousel=>{
        const track = carousel.querySelector('.carousel-track');
        const slides = track.children;
        const prevBtn = carousel.querySelector('.carousel-btn.left');
        const nextBtn = carousel.querySelector('.carousel-btn.right');
        let index = 0;

        function update(){
          track.style.transform = `translateX(-${index * 100}%)`;
        }

        prevBtn.addEventListener('click', ()=>{
          index = (index - 1 + slides.length) % slides.length;
          update();
        });

        nextBtn.addEventListener('click', ()=>{
          index = (index + 1) % slides.length;
          update();
        });

        update();
      });
    }
    document.addEventListener("DOMContentLoaded", initCarousels);
  </script>
</body>
</html>
