<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fanshop - HSG RBK</title>
  <style>
    body { font-family:sans-serif; margin:0; padding:0; background:#ffffff; color:#000; }
    header { background:#ff00a0; color:#fff; padding:1rem; display:flex; justify-content:center; align-items:center; position:relative; }
    header h1 { margin:0; font-size:1.4rem; text-align:center; flex:1; line-height:1.4; }
    .menu-toggle { font-size:1.8rem; cursor:pointer; background:none; border:none; color:#fff; position:absolute; right:1rem; }

    .sidebar { position:fixed; top:0; right:-250px; width:250px; height:100%; background:rgba(0,0,0,0.8); color:#fff; transition:right 0.3s ease; padding-top:2rem; z-index:1000; }
    .sidebar.active { right:0; }
    .sidebar a { display:block; padding:1rem; color:#fff; text-decoration:none; font-weight:bold; }
    .sidebar a:hover { background:#ff00a0; }

    .overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:none; z-index:500; }
    .overlay.active { display:block; }

    section { padding:1rem; text-align:center; }

    .product { border:1px solid #ddd; border-radius:10px; padding:1rem; margin:1rem auto; max-width:400px; background:#fafafa; }
    .product h2 { margin:0.5rem 0; color:#ff00a0; }
    .product-images { display:flex; gap:0.5rem; justify-content:center; }
    .product-images img { width:45%; border-radius:8px; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,0.2); }

    button { background:#ff00a0; color:#fff; border:none; padding:0.6rem 1rem; margin-top:0.5rem; border-radius:6px; cursor:pointer; font-weight:bold; }
    button:hover { background:#d10085; }

    .cart { border-top:2px solid #ff00a0; margin-top:1rem; padding-top:1rem; text-align:left; max-width:600px; margin-left:auto; margin-right:auto; }
    .cart h3 { color:#ff00a0; }

    form { display:flex; flex-direction:column; gap:0.6rem; max-width:600px; margin:1rem auto; text-align:left; }
    form input, form select { padding:0.5rem; border:1px solid #ccc; border-radius:6px; }
    form label { font-weight:bold; }

    /* Lightbox */
    .lightbox {
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.8);
      justify-content:center;
      align-items:center;
      z-index:2000;
    }
    .lightbox img {
      max-width:90%;
      max-height:90%;
      border-radius:10px;
      box-shadow:0 4px 20px rgba(0,0,0,0.5);
    }
  </style>
</head>
<body>
<header>
  <h1>HSG R√º/Bau/K√∂ <br> Fanshop</h1>
  <button class="menu-toggle">‚ò∞</button>
</header>

<div class="sidebar" id="sidebar">
  <a href="index.html">üè† Home</a>
  <a href="a-team.html">üë©‚Äçüëß wA-Team</a>
  <a href="b-team.html">üë©‚Äçüëß wB-Team</a>
  <a href="stats.html">üìä Statistik</a>
  <a href="hallen.html">üèüÔ∏è Hallen</a>
  <a href="sponsoren.html">ü§ù Sponsoren</a>
  <a href="news.html">üì∞ News</a>
  <a href="fanshop.html">üõí Fanshop</a>
</div>
<div class="overlay" id="overlay"></div>

<section>
  <div class="product">
    <h2>HSG Fantrikot</h2>
    <div class="product-images">
      <img src="fan1.png" alt="Fantrikot Vorderseite" onclick="openLightbox(this)">
      <img src="fan2.png" alt="Fantrikot R√ºckseite" onclick="openLightbox(this)">
    </div>
    <p>Offizielles Fantrikot der HSG ‚Äì in allen Gr√∂√üen verf√ºgbar.</p>
    <p><strong>Preis: 39,90 ‚Ç¨</strong></p>
    <label for="size">Gr√∂√üe w√§hlen:</label>
    <select id="size">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
    </select>
    <button onclick="addToCart()">In den Warenkorb</button>
  </div>

  <div class="cart" id="cart">
    <h3>üõí Dein Warenkorb</h3>
    <ul id="cart-items"></ul>
    <p id="cart-total"><strong>Gesamt: 0,00 ‚Ç¨</strong></p>
  </div>

  <form id="orderForm" onsubmit="sendOrder(event)">
    <h3>Bestelldaten</h3>
    <label for="name">Name*</label>
    <input type="text" id="name" required>
    <label for="address">Adresse*</label>
    <input type="text" id="address" required>
    <label for="phone">Telefon*</label>
    <input type="tel" id="phone" required>
    <label for="email">E-Mail*</label>
    <input type="email" id="email" required>

    <label for="shipping">Lieferoption*</label>
    <select id="shipping" required onchange="updateShipping()">
      <option value="Abholung">Abholung (kostenlos)</option>
      <option value="DHL">Versand per DHL (+7,90 ‚Ç¨)</option>
    </select>

    <button type="submit">Bestellung abschicken</button>
  </form>
</section>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" onclick="closeLightbox()">
  <img id="lightbox-img" src="" alt="Gro√üansicht">
</div>

<script>
  // Sidebar
  const menuBtn = document.querySelector(".menu-toggle");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  menuBtn.addEventListener("click", ()=>{ sidebar.classList.toggle("active"); overlay.classList.toggle("active"); });
  overlay.addEventListener("click", ()=>{ sidebar.classList.remove("active"); overlay.classList.remove("active"); });

  // Warenkorb
  let cart = [];
  let shippingCost = 0;

  function addToCart() {
    const size = document.getElementById("size").value;
    cart.push({ name: "HSG Fantrikot", price: 39.90, size: size });
    renderCart();
  }

  function renderCart() {
    const cartList = document.getElementById("cart-items");
    cartList.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item.name + " - Gr√∂√üe: " + item.size + " - " + item.price.toFixed(2) + " ‚Ç¨";
      cartList.appendChild(li);
      total += item.price;
    });
    total += shippingCost;
    document.getElementById("cart-total").textContent = "Gesamt: " + total.toFixed(2) + " ‚Ç¨";
  }

  function updateShipping() {
    const option = document.getElementById("shipping").value;
    shippingCost = option === "DHL" ? 7.90 : 0;
    renderCart();
  }

  function sendOrder(event) {
    event.preventDefault();
    if(cart.length === 0){ alert("Bitte mindestens ein Produkt in den Warenkorb legen."); return; }

    const name = document.getElementById("name").value;
    const address = document.getElementById("address").value;
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;
    const shipping = document.getElementById("shipping").value;

    let orderDetails = "Bestellung Fanshop HSG RBK\n\n";
    cart.forEach(item => {
      orderDetails += item.name + " (Gr√∂√üe: " + item.size + ") - " + item.price.toFixed(2) + " ‚Ç¨\n";
    });
    orderDetails += "\nLieferoption: " + shipping;
    if (shipping === "DHL") orderDetails += " (+7,90 ‚Ç¨)";
    orderDetails += "\n\nGesamt: " + (cart.reduce((sum,i)=>sum+i.price,0)+shippingCost).toFixed(2) + " ‚Ç¨\n\n";
    orderDetails += "Kundendaten:\nName: " + name + "\nAdresse: " + address + "\nTelefon: " + phone + "\nE-Mail: " + email;

    const mailto = "mailto:kaiuwe.koenig@web.de?subject=Fanshop Bestellung HSG RBK&body=" + encodeURIComponent(orderDetails);
    window.location.href = mailto;
  }

  // Lightbox
  function openLightbox(img) {
    document.getElementById('lightbox-img').src = img.src;
    document.getElementById('lightbox').style.display = 'flex';
  }
  function closeLightbox() {
    document.getElementById('lightbox').style.display = 'none';
  }
</script>
</body>
</html>
