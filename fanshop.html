<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fanshop - HSG RÃ¼/Bau/KÃ¶</title>
  <style>
    :root{
      --brand:#ff00a0;
      --brand-dark:#cc0080;
      --bg:#f7f7f8;
      --card:#fff;
      --muted:#666;
      --success:#1b8f3a;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;background:var(--bg);color:#111}
    header{background:var(--brand);color:#fff;padding:0.9rem 1rem;display:flex;align-items:center;justify-content:center;position:relative}
    header h1{margin:0;font-size:1.05rem;font-weight:700}

    main{max-width:1100px;margin:1rem auto;padding:0 1rem}
    .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
    @media(max-width:640px){ .products{grid-template-columns:1fr} }

    .product{background:var(--card);border-radius:10px;padding:0.8rem;box-shadow:0 6px 18px rgba(0,0,0,0.06);text-align:center;display:flex;flex-direction:column;justify-content:space-between}
    .product h3{margin:0.5rem 0;color:var(--brand);font-size:1.05rem}
    .small{font-size:0.92rem;color:var(--muted)}
    .price{font-weight:800;margin:0.4rem 0}

    /* Produktbilder Standard */
    .product img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      display: block;
      margin: 0 auto;
    }

    /* Carousel */
    .carousel{position:relative;display:flex;align-items:center;justify-content:center;gap:0.6rem;margin-bottom:0.6rem;overflow:hidden}
    .carousel-track{display:flex;transition:transform .28s ease;touch-action:pan-y}
    .carousel-slide{min-width:100%;display:flex;justify-content:center;align-items:center;padding:0.25rem}
    .carousel-slide img{max-width:100%;border-radius:8px;cursor:pointer;display:block}
    .carousel-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.45);border:0;color:#fff;padding:6px 8px;border-radius:6px;cursor:pointer;z-index:10}
    .carousel-btn.left{left:8px}
    .carousel-btn.right{right:8px}
    .dots{display:flex;gap:6px;justify-content:center;margin-top:6px}
    .dot{width:8px;height:8px;border-radius:50%;background:#ddd;cursor:pointer}
    .dot.active{background:var(--brand)}

    .controls{display:flex;gap:0.5rem;justify-content:center;align-items:center;flex-wrap:wrap;margin-top:0.4rem}
    select,input[type=number]{padding:0.45rem;border-radius:6px;border:1px solid #ddd}
    button.btn{background:var(--brand);color:#fff;border:0;padding:0.55rem 0.85rem;border-radius:8px;cursor:pointer;font-weight:700}
    button.btn:hover{background:var(--brand-dark)}
    button.small-btn{padding:0.35rem 0.6rem;font-size:0.95rem}

    /* cart wrap */
    .cart-wrap{margin-top:1.25rem;display:grid;grid-template-columns:1fr 360px;gap:1rem}
    @media(max-width:880px){ .cart-wrap{grid-template-columns:1fr} }

    .cart{background:var(--card);padding:1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .cart h2{margin-top:0;color:var(--brand)}
    .cart-list{list-style:none;padding:0;margin:0;max-height:420px;overflow:auto}
    .cart-item{display:flex;gap:0.6rem;align-items:center;justify-content:space-between;padding:0.5rem 0;border-bottom:1px dashed #eee}
    .cart-item .left{flex:1}
    .cart-item small{color:var(--muted)}

    .summary{background:#fafafa;padding:0.8rem;border-radius:8px;margin-top:0.6rem}
    .summary .line{display:flex;justify-content:space-between;padding:0.25rem 0}
    .summary strong{font-size:1.05rem}

    form.order{background:var(--card);padding:1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    form.order label{display:block;font-weight:600;margin-top:0.6rem}
    form.order input, form.order textarea, form.order select{width:100%;padding:0.5rem;border-radius:6px;border:1px solid #ddd;margin-top:0.25rem}
    form.order button{margin-top:0.8rem}

    /* lightbox & toast */
    .lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:2000;align-items:center;justify-content:center}
    .lightbox img{max-width:94%;max-height:92%;border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:1.25rem;background:var(--success);color:#fff;padding:0.55rem 0.9rem;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.18);display:none;z-index:3000;font-weight:700}
  </style>
</head>
<body>
  <header>
    <h1>HSG RÃ¼/Bau/KÃ¶ â€” Fanshop</h1>
  </header>

  <main>
    <!-- PRODUCTS -->
    <section>
      <h2 class="small">Unsere Fanartikel</h2>
      <div class="products" id="products">

        <!-- Fantrikot -->
        <article class="product" data-sku="trikot">
          <div class="carousel" data-carousel>
            <button class="carousel-btn left">â—€</button>
            <div class="carousel-track">
              <div class="carousel-slide"><img src="img/Fantrikot1.png" alt="Fantrikot vorne"></div>
              <div class="carousel-slide"><img src="img/Fantrikot2.png" alt="Fantrikot hinten"></div>
            </div>
            <button class="carousel-btn right">â–¶</button>
          </div>
          <div class="dots"></div>
          <h3>HSG Fantrikot</h3>
          <p class="price">24,90 â‚¬</p>
          <div class="controls">
            <select id="size-trikot"><option>S</option><option>M</option><option>L</option><option>XL</option></select>
            <input type="number" id="qty-trikot" min="1" value="1" style="width:80px">
            <button class="btn" onclick="addToCartFromUI('trikot','HSG Fantrikot',24.90,'size-trikot','qty-trikot')">In den Warenkorb</button>
          </div>
        </article>

        <!-- Fanshirt -->
        <article class="product" data-sku="fanshirt">
          <div class="carousel" data-carousel>
            <button class="carousel-btn left">â—€</button>
            <div class="carousel-track">
              <div class="carousel-slide"><img src="img/Fanshirt1.png" alt="Fanshirt vorne"></div>
              <div class="carousel-slide"><img src="img/Fanshirt2.png" alt="Fanshirt hinten"></div>
            </div>
            <button class="carousel-btn right">â–¶</button>
          </div>
          <div class="dots"></div>
          <h3>HSG Fanshirt</h3>
          <p class="price">15,90 â‚¬</p>
          <div class="controls">
            <select id="size-shirt"><option>S</option><option>M</option><option>L</option><option>XL</option></select>
            <input type="number" id="qty-shirt" min="1" value="1" style="width:80px">
            <button class="btn" onclick="addToCartFromUI('fanshirt','HSG Fanshirt',15.90,'size-shirt','qty-shirt')">In den Warenkorb</button>
          </div>
        </article>

        <!-- Sweater -->
        <article class="product" data-sku="sweater">
          <div class="carousel" data-carousel>
            <button class="carousel-btn left">â—€</button>
            <div class="carousel-track">
              <div class="carousel-slide"><img src="img/Sweater1.png" alt="Sweater vorne"></div>
              <div class="carousel-slide"><img src="img/Sweater2.png" alt="Sweater hinten"></div>
            </div>
            <button class="carousel-btn right">â–¶</button>
          </div>
          <div class="dots"></div>
          <h3>HSG Sweater</h3>
          <p class="price">35,90 â‚¬</p>
          <div class="controls">
            <select id="size-sweater"><option>S</option><option>M</option><option>L</option><option>XL</option></select>
            <input type="number" id="qty-sweater" min="1" value="1" style="width:80px">
            <button class="btn" onclick="addToCartFromUI('sweater','HSG Sweater',35.90,'size-sweater','qty-sweater')">In den Warenkorb</button>
          </div>
        </article>

        <!-- GÃ¼rteltasche -->
        <article class="product" data-sku="guerteltasche">
          <img src="img/Guerteltasche.png" alt="Kempa GÃ¼rteltasche">
          <h3>Kempa GÃ¼rteltasche</h3>
          <p class="price">19,90 â‚¬</p>
          <div class="controls">
            <input type="number" id="qty-guerteltasche" min="1" value="1" style="width:80px">
            <button class="btn" onclick="addToCartFromUI('guerteltasche','Kempa GÃ¼rteltasche',19.90,null,'qty-guerteltasche')">In den Warenkorb</button>
          </div>
        </article>

      </div>
    </section>

    <!-- CART -->
    <section class="cart-wrap">
      <div class="cart">
        <h2>ðŸ›’ Dein Warenkorb</h2>
        <ul id="cart-list" class="cart-list"></ul>
        <div class="summary">
          <div class="line"><span>Zwischensumme</span><span id="subtotal">0,00 â‚¬</span></div>
          <div class="line"><span>Versand</span><span id="shipping-line">0,00 â‚¬</span></div>
          <div class="line"><span>Rabatt</span><span id="discount-line">0,00 â‚¬</span></div>
          <div class="line"><strong>Gesamt</strong><strong id="grand-total">0,00 â‚¬</strong></div>
        </div>
        <label>Versandoption:</label>
        <select id="shipping-option">
          <option value="pickup">Abholung (0 â‚¬)</option>
          <option value="dhl">DHL (7,90 â‚¬)</option>
          <option value="hermes">Hermes (6,50 â‚¬)</option>
          <option value="express">Express (12,90 â‚¬)</option>
        </select>
        <label>Rabattcode:</label>
        <input id="discount-code">
        <button class="btn" onclick="applyDiscount()">EinlÃ¶sen</button>
      </div>

      <form class="order" id="order-form" onsubmit="submitOrder(event)">
        <h3>Bestelldaten</h3>
        <label for="cust-name">Name *</label>
        <input id="cust-name" required>
        <label for="cust-address">Adresse *</label>
        <textarea id="cust-address" required></textarea>
        <label for="cust-phone">Telefon *</label>
        <input id="cust-phone" required>
        <label for="cust-email">E-Mail *</label>
        <input id="cust-email" type="email" required>
        <small>Die Bestellung wird an kaiuwe.koenig@web.de gesendet.</small>
        <button class="btn" type="submit">Bestellung abschicken</button>
      </form>
    </section>
  </main>

  <div id="lightbox" class="lightbox" onclick="closeLightbox()"><img id="lightbox-img"></div>
  <div id="toast" class="toast">Artikel hinzugefÃ¼gt</div>

  <script>
    function formatPriceEuro(v){return v.toFixed(2).replace('.',',')+' â‚¬';}
    let cart=JSON.parse(localStorage.getItem('cart')||'[]');
    let discount=0;

    function addToCartFromUI(sku,name,price,sizeId,qtyId){
      const size=sizeId?document.getElementById(sizeId).value:null;
      const qty=qtyId?parseInt(document.getElementById(qtyId).value)||1:1;
      addToCart(sku,name,price,size,qty);
    }
    function addToCart(sku,name,price,size,qty){
      const ex=cart.find(i=>i.sku===sku && i.size===size);
      if(ex) ex.quantity+=qty; else cart.push({sku,name,price,size,quantity:qty});
      localStorage.setItem('cart',JSON.stringify(cart));
      renderCart();
    }
    function renderCart(){
      const list=document.getElementById('cart-list');
      list.innerHTML='';
      let subtotal=0;
      cart.forEach((it,i)=>{
        subtotal+=it.price*it.quantity;
        list.innerHTML+=`<li class="cart-item"><div class="left">${it.name}${it.size?' ('+it.size+')':''} â€” ${formatPriceEuro(it.price)} x ${it.quantity}</div><button onclick="removeItem(${i})">âœ–</button></li>`;
      });
      const shipOpt=document.getElementById('shipping-option').value;
      const shipping=shipOpt==='dhl'?7.9:shipOpt==='hermes'?6.5:shipOpt==='express'?12.9:0;
      const total=subtotal+shipping-discount;
      document.getElementById('subtotal').textContent=formatPriceEuro(subtotal);
      document.getElementById('shipping-line').textContent=formatPriceEuro(shipping);
      document.getElementById('discount-line').textContent=formatPriceEuro(discount);
      document.getElementById('grand-total').textContent=formatPriceEuro(total);
    }
    function removeItem(i){cart.splice(i,1);localStorage.setItem('cart',JSON.stringify(cart));renderCart();}
    function applyDiscount(){
      const code=document.getElementById('discount-code').value.trim();
      if(code==='HSG10'){discount=10;alert('10 â‚¬ Rabatt aktiviert');}
      else{discount=0;alert('UngÃ¼ltiger Code');}
      renderCart();
    }
    function submitOrder(e){
      e.preventDefault();
      if(cart.length===0){alert('Warenkorb leer');return;}
      const name=document.getElementById('cust-name').value;
      const addr=document.getElementById('cust-address').value;
      const phone=document.getElementById('cust-phone').value;
      const email=document.getElementById('cust-email').value;
      const shipOpt=document.getElementById('shipping-option').value;
      let text='Bestellung:\n'+cart.map(i=>`${i.quantity}x ${i.name}${i.size?' ('+i.size+')':''}`).join('\n');
      text+=`\n\nName: ${name}\nAdresse: ${addr}\nTelefon: ${phone}\nEmail: ${email}\nVersand: ${shipOpt}\nRabatt: ${formatPriceEuro(discount)}`;
      window.location.href=`mailto:kaiuwe.koenig@web.de?subject=Fanshop Bestellung&body=${encodeURIComponent(text)}`;
    }
    function initCarousels(){
      document.querySelectorAll('[data-carousel]').forEach(car=>{
        const track=car.querySelector('.carousel-track');
        const slides=Array.from(track.children);
        let index=0;
        const dots=car.nextElementSibling;
        dots.innerHTML='';
        slides.forEach((_,i)=>{
          const d=document.createElement('div');
          d.className='dot'+(i===0?' active':'');
          d.onclick=()=>{index=i;update();}
          dots.appendChild(d);
        });
        function update(){
          track.style.transform=`translateX(-${index*100}%)`;
          dots.querySelectorAll('.dot').forEach((dot,i)=>dot.classList.toggle('active',i===index));
        }
        car.querySelector('.left').onclick=()=>{index=(index-1+slides.length)%slides.length;update();}
        car.querySelector('.right').onclick=()=>{index=(index+1)%slides.length;update();}
        update();
      });
    }
    function closeLightbox(){document.getElementById('lightbox').style.display='none';}
    window.addEventListener('DOMContentLoaded',()=>{
      renderCart();
      initCarousels();
      document.querySelectorAll('.carousel-slide img').forEach(img=>{
        img.onclick=()=>{document.getElementById('lightbox-img').src=img.src;document.getElementById('lightbox').style.display='flex';}
      });
      document.getElementById('shipping-option').onchange=renderCart;
    });
  </script>
</body>
</html>
