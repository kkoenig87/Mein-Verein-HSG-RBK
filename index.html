<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>#NIEOHNEMEINTEAM</title>
  <link rel="manifest" href="manifest.json" />
  <style>
    body { 
      font-family: sans-serif; 
      margin:0; 
      padding:0; 
      background:#ffffff; 
      color:#000000; 
    }

    nav {
      display:flex;
      justify-content:center;
      gap:1rem;
      background:#000000; /* Schwarz */
      padding:0.5rem;
    }

    nav a {
      color:#ffffff; 
      text-decoration:none;
      font-weight:bold;
      padding:0.5rem 1rem;
      border-radius:5px;
      transition: background 0.3s;
    }

    nav a:hover {
      background:#ff00a0; 
      color:#ffffff;
    }

    section {
      padding:1rem;
      text-align:center;
    }

    header {
      background:#ff00a0; 
      color:#fff; 
      padding:1rem;
      display:flex; 
      justify-content:center;   /* Mitte */
      align-items:center;
      position:relative;        /* erlaubt absolute Positionierung vom Button */
    }
    
    header h1 {
  margin: 0;
  font-size: 1.4rem;   /* Standardgr√∂√üe f√ºr normale Displays */
  text-align: center;
  line-height: 1.4;
  flex: 1;
}

/* F√ºr schmale iPhones im Hochformat */
@media (max-width: 400px) {
  header h1 {
    font-size: 1.1rem;
    line-height: 1.3;
  }
}

/* F√ºr Querformat oder sehr kleine Bildschirme */
@media (max-width: 320px) {
  header h1 {
    font-size: 1rem;
    line-height: 1.2;
  }
}
    
    /* Burger-Icon fixieren */
    .menu-toggle {
      font-size:1.8rem;
      cursor:pointer;
      background:none;
      border:none;
      color:#fff;
      position:absolute; 
      right:1rem;               /* am rechten Rand fixiert */
    }

    /* Sidebar */
    .sidebar {
      position:fixed;
      top:0; right:-250px;
      width:250px; height:100%;
      background:rgba(0,0,0,0.8)
      color:#fff;
      transition:right 0.3s ease;
      padding-top:2rem;
      z-index:1000;
    }
    .sidebar.active { right:0; }

    .sidebar a {
      display:block;
      padding:1rem;
      color:#fff;
      text-decoration:none;
      font-weight:bold;
    }
    .sidebar a:hover {
      background:#ff00a0;
    }

    /* Overlay */
    .overlay {
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.5);
      display:none;
      z-index:500;
    }
    .overlay.active { display:block; }

    .hero {
      text-align:center;
      margin:1rem 0;
    }

    .team-photo {
      max-width:90%;   /* skaliert Bild auf 90% der Bildschirmbreite */
      height:auto;     /* beh√§lt Seitenverh√§ltnis bei */
      border-radius:10px;  /* abgerundete Ecken (optional) */
      box-shadow:0 4px 12px rgba(0,0,0,0.2); /* leichter Schatten */
    }
    
  </style>
</head>
<body>
  <!-- In-App Notification Container -->
<div id="inAppNotification" style="
  display:none;
  position: fixed;
  top: 1rem;
  left: 50%;
  transform: translateX(-50%);
  background: #ff00a0;
  color: white;
  padding: 1rem 1.5rem;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 10000;
  font-weight: bold;
  text-align: center;
  max-width: 90%;
">
  <!-- Nachricht wird hier dynamisch eingef√ºgt -->
</div>
  
<header>
  <h1>
    HSG R√º/Bau/K√∂ <br>
    wA & wB <br>
    BOL Saison 2025/26
  </h1>
  <button class="menu-toggle">‚ò∞</button>
</header>

<div class="sidebar" id="sidebar">
  <a href="index.html">üè† Home</a>
  <a href="a-team.html">üë©‚Äçüëß wA-Team</a>
  <a href="b-team.html">üë©‚Äçüëß wB-Team</a>
  <a href="stats.html">üìä Statistik</a>
  <a href="hallen.html">üèüÔ∏è Hallen</a>
  <a href="sponsoren.html">ü§ù Sponsoren</a>
  <a href="news.html">üì∞ News</a>
</div>
<div class="overlay" id="overlay"></div>

  <section>
    <h2>M√§dels, willkommen in <b>eurer</b> eigenen Vereins-App!</h2>
    <p>Hier findet ihr Infos zu unseren Mannschaften, aktuellen Spielen und Veranstaltungen.</p>
  </section>

  <section class="hero">
    <img src="Mannschaft.png" alt="Mannschaftsfoto HSG RBK" class="team-photo">
  </section>

  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js")
      .then(() => console.log("‚úÖ Service Worker registriert"))
      .catch(err => console.error("‚ùå Service Worker Fehler:", err));
  }
  </script>
  
  <script>
  const menuBtn = document.querySelector(".menu-toggle");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");

  menuBtn.addEventListener("click", () => {
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  });

  overlay.addEventListener("click", () => {
    sidebar.classList.remove("active");
    overlay.classList.remove("active");
  });
</script>
<script>
if ("serviceWorker" in navigator && "PushManager" in window) {
  navigator.serviceWorker.register("/service-worker.js")
    .then(reg => console.log("Service Worker registriert", reg));

  async function subscribeUser() {
    const reg = await navigator.serviceWorker.ready;
    const subscription = await reg.pushManager.subscribe({
      userVisibleOnly: true,
      applicationServerKey: "BAQc0wAaqIdZzFXjAKVPNXdFU_NllJAmJADLlutUJw7SwP9i2mYqylvdm8rQ6LrugfZ9nDgcstE2oycI3oHscnM"
    });

    // Subscription an den Render Push-Server senden
    await fetch("https://hsg-rbk-push.onrender.com/subscribe", {
      method: "POST",
      body: JSON.stringify(subscription),
      headers: { "Content-Type": "application/json" }
    });

    console.log("Push-Subscription erfolgreich:", subscription);
  }

  subscribeUser();
}
</script>
<script>
function showInAppNotification(title, body, duration = 5000) {
  const container = document.getElementById('inAppNotification');
  container.innerHTML = `<strong>${title}</strong><br>${body}`;
  container.style.display = 'block';

  // Automatisch nach 'duration' ms ausblenden
  setTimeout(() => {
    container.style.display = 'none';
  }, duration);
}

// Beispiel-Test: Nachricht beim Laden
document.addEventListener('DOMContentLoaded', () => {
  showInAppNotification(
    "üì¢ N√§chstes Spiel:",
    "wB vs. TSV Pfungstadt\nSo. 21.09.2025 - Treffpunkt: 16:00 Uhr\nHalle K√∂nigst√§dten"
  );
});
</script>
</body>
</html>
